  
## Команды

| **Команда**                                                    | **Описание**                                                                                    |
| -------------------------------------------------------------- | ----------------------------------------------------------------------------------------------- |
| `ls –a /` / `ls –l` / `ls –lh`                                 | вывести содержащиеся файлы                                                                      |
| `mkdir –p`                                                     | создание директории с подкаталогами                                                             |
| `rmdir –p`                                                     | удаление директории с подкаталогами                                                             |
| `touch file`                                                   | создает файл                                                                                    |
| `rm`                                                           | удаление файла навсегда                                                                         |
| `rm –rf`                                                       | удаление с поддиректориями принудительно!!!!                                                    |
| `cp file42 file42.copy`                                        | копирование файла                                                                               |
| `mv file42 file33`                                             | переименование                                                                                  |
| `ip a`                                                         | Показать все сетевые интерфейсы и IP-адреса                                                     |
| `traceroute ya.ru`                                             | Показать путь до хоста                                                                          |
| `mtr ya.ru`                                                    | показывает путь до сайта и задержки в реальном времени                                          |
| `lsof /var/log/bad.log`                                        | показывает какой процесс использует этот файл                                                   |
| `fuser /var/log/bad.log`                                       | показывает какой процесс использует этот файл                                                   |
| `ip r`                                                         | Показать таблицу маршрутов                                                                      |
| `telnet 192.168.1.1 80`                                        | проверяет доступность хоста и конкретного порта                                                 |
| `netstat -tulpn` / `ss -tulnp`                                 | Показать прослушиваемые порты                                                                   |
| `lsblk -f`                                                     | покажет список дисков и разделов с информацией о файловой системе, метках и точках монтирования |
| `cut -d',' -f2 file.csv`                                       | Взять 2-ю колонку из CSV (-d задаёт разделитель)                                                |
| `df -h`                                                        | проверка места на дисках                                                                        |
| `smartctl /dev/sda`                                            | показывает состояние диска                                                                      |
| `ethtool eth0`                                                 | Выведет скорость, дуплекс, текущее состояние линка и т.д.                                       |
| `arp -a`                                                       | список соответствий IP-адресов и MAC-адресов в локальной сети                                   |
| `df -i`                                                        | посмотреть inode                                                                                |
| `free -m`                                                      | данные оперативной памяти                                                                       |
| `ps aux`                                                       | выводит все запущенные процессы                                                                 |
| `ln -s original.txt soft_link.txt`                             | soft link                                                                                       |
| `ln original.txt hard_link.txt`                                | hard link                                                                                       |
| `systemctl status процес`                                      | показывает в каком статусе процесс                                                              |
| `grep "error" /var/log/syslog`                                 | найти в файле надпись error                                                                     |
| `sudo systemctl enable myapp.service`                          | добавление сервиса в автозагрузку (файл с расширением .service)                                 |
| `ssh-keygen -t rsa -b 4096 -C "mail"`                          | создание ключей                                                                                 |
| `ssh -i ~/.ssh/my_key user@192.168.1.10`                       | подключение к серверу                                                                           |
| `ssh-copy-id user@192.168.1.10`                                | копирует ключ на сервер                                                                         |
| `ssh -L <локальный_порт>:<цель_на_сервере>:<порт> user@server` | проброс портов                                                                                  |
| `kill -l`                                                      | посмотреть все сигналы для процессов                                                            |
| `printenv`                                                     | посмотреть переменные окружения                                                                 |
| `ls -l script.sh`                                              | просмотр прав на файл                                                                           |
| `cat /etc/hosts`                                               | просмотреть весь файл                                                                           |
| `less /var/log/syslog`                                         | просмотреть файл с прокруткой                                                                   |
| `sudo systemctl enable nginx`                                  | добавить в автозагрузку                                                                         |
| `systemctl status myapp`                                       | проверить статус службы                                                                         |
| `journalctl -u myapp.service`                                  | логи конкретного сервиса                                                                        |
| `journalctl --since "10 min ago"`                              | за последние 10 минут                                                                           |
| `ip route show`                                                | показать таблицу маршрутизации                                                                  |
| sudo useradd -m -s /bin/bash alice                             | создание нового пользователя                                                                    |
| sudo groupadd devops                                           | создание группы                                                                                 |
| sudo usermod -aG devops alice                                  | добавление пользователя в группу                                                                |
|                                                                |                                                                                                 |

## Модель OSI

| **Уровень OSI**                 | **Функции**                                                | **Примеры устройств**                                                      | **Примеры действий / протоколы**                                                                                                                                                 |
| ------------------------------- | ---------------------------------------------------------- | -------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 7. Прикладной (Application)     | Работа с приложениями и протоколами (HTTP, FTP, DNS)       | Web-сервер, Proxy-сервер, WAF, балансировщик нагрузки на уровне приложений | Браузер формирует HTTP-запрос (GET, POST и т.п.), определяет протокол (HTTP/HTTPS), если указан домен — выполняется DNS-запрос для получения IP                                  |
| 6. Представления (Presentation) | Преобразование данных, шифрование/дешифрование             | Шифрующие шлюзы (SSL/TLS), некоторые прокси                                | Шифрование TLS/SSL при HTTPS, преобразование данных для безопасной передачи                                                                                                      |
| 5. Сеансовый (Session)          | Управление сессиями и соединениями                         | Прокси-сервер, шлюзы аутентификации                                        | Устанавливается сессия между браузером и сервером, в HTTPS — защищённый сеанс                                                                                                    |
| 4. Транспортный (Transport)     | Сегментация, управление соединением, контроль ошибок       | Firewall с фильтрацией по портам, load balancer на TCP/UDP                 | TCP устанавливает соединение через трехстороннее рукопожатие (SYN, SYN-ACK, ACK), делит данные на сегменты и нумерует их, UDP используется для DNS и некоторых других протоколов |
| 3. Сетевой (Network)            | Маршрутизация пакетов, IP-адресация                        | Маршрутизаторы (Routers), L3-коммутаторы                                   | Используется IP-протокол, определение IP-адреса сервера, маршрутизация через роутеры, DNS-запрос для перевода домена в IP                                                        |
| 2. Канальный (Data Link)        | Передача кадров, контроль ошибок, MAC-адресация            | Коммутаторы (Switches), мосты (Bridges), сетевые карты (NIC)               | Данные упаковываются в кадры с MAC-адресами источника и получателя, передача по локальной сети (Ethernet, Wi-Fi)                                                                 |
| 1. Физический (Physical)        | Передача битов по каналу, электрические/оптические сигналы | Концентраторы (Hubs), повторители (Repeaters), кабели, оптоволокно         | Передача сигналов через кабель, оптоволокно или радиоканал; биты передаются по среде передачи                                                                                    |
## Ports

**HTTP** `– 80 Протокол передачи гипертекста (обычный веб-трафик, без шифрования)`
**HTTPS** – 443 Защищённый HTTP с использованием TLS/SSL
**SSH** – 22 Безопасный удалённый доступ к системе (терминал, туннели)
**FTP** – 21 Простой протокол передачи файлов
**MySQL** – 3306 База данных MySQL/MariaDB
**PostgreSQL** – 5432 База данных PostgreSQL
**Redis** – 6379 Ключ-значение in-memory хранилище
**MongoDB** – 27017 Документоориентированная база данных
**Elasticsearch** – 9200 Поисковый движок
**Kubernetes API** – 6443 Основной порт API-сервера k8s
**Docker Daemon** – 2375 (обычный), 2376 (через TLS)
**Prometheus** – 9090 Сервер мониторинга
**Grafana** – 3000 Веб-интерфейс визуализации

## Protocols

**DHCP (Dynamic Host Configuration Protocol)** — это протокол, который автоматически выдаёт устройствам в сети: **IP-адрес, Маску подсети, Шлюз по умолчанию, DNS-серверы** и другие сетевые параметры.

**DNS (Domain Name System)** — протокол, который преобразует **читаемые человеком доменные имена** (например, `example.com`) в **IP-адреса**, которые понимает сеть.

**HTTP (HyperText Transfer Protocol)** — протокол передачи данных, используемый для **обмена информацией между веб-браузером и веб-сервером**.

**HTTPS (HyperText Transfer Protocol Secure)** — защищённая версия HTTP, которая использует **шифрование (SSL/TLS)** для безопасной передачи данных.

**FTP (File Transfer Protocol)** — протокол для **передачи файлов** между компьютерами в сети.

**SMTP (Simple Mail Transfer Protocol)** — протокол, используемый для **отправки электронной почты** между почтовыми серверами.

**IMAP (Internet Message Access Protocol)** — протокол для **чтения и управления почтой на сервере**, позволяет синхронизировать почту между устройствами.

**POP3 (Post Office Protocol version 3)** — ещё один протокол для получения почты, который **скачивает письма на локальное устройство** и обычно удаляет их с сервера.

**TCP (Transmission Control Protocol)** — протокол транспортного уровня, обеспечивающий **надёжную доставку данных** между устройствами.

**UDP (User Datagram Protocol)** — транспортный протокол без гарантии доставки, используемый для **стриминга, игр и VoIP**, где важна скорость.

## Определения

**systemd** — это система инициализации и управления службами в современных дистрибутивах Linux (включая Ubuntu, Debian, CentOS, Fedora и др) обеспечивает **управление службами, логирование, автоматический запуск, зависимостями и пр.**

**cgroups** **(control groups)** **— это механизм ядра Linux, который позволяет ограничивать и управлять ресурсами, выделяемыми процессам: CPU, память, диск, сеть и т.д.**

**файловые дескрипторы (file descriptors)** — это целые числа, которые операционная система использует для отслеживания **открытых файлов и ресурсов**, с которыми работает процесс.(0 - стандартный ввод (stdin), 1 - стандартный вывод (stdout), 2 - стандартная ошибка (stderr))

**inod** — это структура данных в файловой системе Linux/Unix, которая **хранит информацию о файле**, но **не хранит его имя или содержимое**.

В Linux **сигналы** — это механизм взаимодействия с процессами. Они позволяют уведомить процесс о каком-то событии: завершить его, приостановить, перезапустить, и т.д.

**kernel (ядро)** — это основная часть операционной системы, которая управляет **аппаратными ресурсами** (CPU, память, устройства) и предоставляет интерфейс для работы программ с оборудованием.

**shell (оболочка)** — это программа, которая принимает команды пользователя, **интерпретирует их и передаёт системе** для выполнения. Примеры: Bash, Zsh, Fish.

**process (процесс)** — это выполняющаяся программа, которой выделены ресурсы системы (CPU, память). Каждый процесс имеет уникальный PID (Process ID).

**thread (поток)** — это единица исполнения внутри процесса. Потоки **разделяют память процесса**, но могут выполняться параллельно на разных ядрах CPU.

**mount (монтирование)** — это операция подключения файловой системы к дереву каталогов Linux, чтобы сделать её доступной для чтения и записи.

**swap (своп-память)** — это участок диска, который используется как **дополнение к оперативной памяти** для хранения данных, когда RAM заканчивается.

**package manager (менеджер пакетов)** — инструмент для **установки, обновления и удаления программ** в Linux. Примеры: apt (Debian/Ubuntu), yum/dnf (CentOS/Fedora), pacman (Arch Linux).

**cron / systemd timer** — механизм для **автоматического запуска задач по расписанию**. Cron использует crontab, systemd timer интегрируется с systemd.

**logs (журналы / логи)** — это записи о работе системы и приложений, которые позволяют **отслеживать ошибки, события и производительность**.

[[iptables]] —  это утилита командной строки в Linux, которая управляет сетевыми правилами межсетевого экрана (брандмауэра) под названием Netfilter, встроенного в ядро операционной системы.

**NAT (Network Address Translation)** — это технология, которая позволяет нескольким устройствам в локальной сети (например, дома) использовать один общий внешний IP-адрес для подключения к Интернету.
## Пакетные менеджеры
**Debian, Ubuntu —** `apt`
**Fedora, CentOS —** `yum`
**Arch Linux —** `pacman`

### Права доступа (Permissions): Безопасность и контроль

Права доступа в Linux — это простая, но мощная система, определяющая **кто** и **что** может делать с **файлом или каталогом**.

#### Три категории пользователей:

1. **`u` (user/owner)** — владелец файла.
2. **`g` (group)** — члены группы, связанной с файлом.
3. **`o` (others)** — все остальные.

#### Три типа прав:

1. **`r` (read)** — чтение (для файла), просмотр содержимого (для каталога).
2. **`w` (write)** — запись (для файла), создание/удаление файлов в каталоге.
3. **`x` (execute)** — выполнение (для файла), **вход** в каталог.

#### Цифровое представление (Octal):

- `r` = 4
- `w` = 2
- `x` = 1
  
## Корневая система Linux
/ — корневая директория всей системы, верхний уровень файловой системы   
 /bin — основные команды и программы, доступные всем пользователям   
/sbin — системные утилиты для администратора (root)   
/etc — конфигурационные файлы системы и программ   
/home — домашние папки пользователей с их личными файлами   
/lib — системные библиотеки, необходимые для запуска программ из /bin и /sbin   
/usr — большинство программ, библиотек и документации, не нужных для базовой загрузки   
/var — изменяемые данные: логи, базы данных, почта и другие файлы, которые меняются во время работы системы   
/tmp — временные файлы, обычно очищаются при перезагрузке   
/boot — файлы загрузчика и ядро Linux  
/dev — специальные файлы устройств (аппаратные устройства, виртуальные устройства)   /proc — виртуальная файловая система с информацией о процессах и системе в реальном времени   
/sys — виртуальная файловая система с информацией о ядре и оборудовании   
/root — домашняя папка суперпользователя (root)   
/media — точки монтирования съемных носителей (USB, CD и др.)   
/mnt — временные точки монтирования, обычно для ручного подключения устройств   
/opt — дополнительное стороннее программное обеспечение и пакеты   
/run — временные файлы и данные, связанные с текущими процессами и сервисами